function searchCardNamesForAutocomplete(){for(let e=0;e<allCards.data.length;e++)allCardNames.push(allCards.data[e].name);allCardNames=[...new Set(allCardNames)]}function autocomplete(e,t){function a(e){if(!e)return!1;n(e),o>=e.length&&(o=0),o<0&&(o=e.length-1),e[o].classList.add("autocomplete-active")}function n(e){for(var t=0;t<e.length;t++)e[t].classList.remove("autocomplete-active")}function l(t){for(var a=document.getElementsByClassName("autocomplete-items"),n=0;n<a.length;n++)t!=a[n]&&t!=e&&a[n].parentNode.removeChild(a[n])}var o;e.addEventListener("input",function(a){var n,s,r,i=this.value;if(l(),!i)return!1;for(o=-1,n=document.createElement("DIV"),n.setAttribute("id",this.id+"autocomplete-list"),n.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(n),r=0;r<t.length;r++)t[r].substr(0,i.length).toUpperCase()==i.toUpperCase()&&(s=document.createElement("DIV"),s.innerHTML="<strong>"+t[r].substr(0,i.length)+"</strong>",s.innerHTML+=t[r].substr(i.length),s.innerHTML+="<input type='hidden' value='"+t[r]+"'>",s.addEventListener("click",function(t){e.value=this.getElementsByTagName("input")[0].value,l()}),n.appendChild(s))}),e.addEventListener("keydown",function(e){var t=document.getElementById(this.id+"autocomplete-list");if(t&&(t=t.getElementsByTagName("div")),40==e.keyCode)o++,a(t);else if(38==e.keyCode)o--,a(t);else if(39==e.keyCode)console.log("right key pressed! "),l(e.target);else if(13==e.keyCode){l(e.target);document.search.fname.value;o>-1&&t&&t[o].click()}}),document.addEventListener("click",function(e){l(e.target)})}var allCardNames=[];autocomplete(document.getElementById("card_name"),allCardNames);